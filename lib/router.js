Router.configure({  layoutTemplate: 'layout',  loadingTemplate: 'loading',  notFoundTemplate: 'notFound',  waitOn: function() { return Meteor.subscribe('drinks'); }});Router.route('/', {name: 'drinksList'});Router.route('/drinks/:_id', {  name: 'drinkPage',  data: function() { return Drinks.findOne(this.params._id); }});Router.route('/drinks/:_id/edit', {name: 'drinkEdit',data: function() { return Drinks.findOne(this.params._id); }});Router.route('/submit', {name: 'drinkSubmit'});var requireLogin = function() {  if (! Meteor.user()) {    if (Meteor.loggingIn()) {      this.render(this.loadingTemplate);    } else {      this.render('accessDenied');    }  } else {    this.next();  }}Router.onBeforeAction('dataNotFound', {only: 'drinkPage'});Router.onBeforeAction(requireLogin, {only: 'drinkSubmit'});